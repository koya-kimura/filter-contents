{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\takum\\\\Documents\\\\GitHub\\\\capture-sketch-test\\\\src\\\\CameraCapture.js\";\nimport React, { Component } from \"react\";\nimport p5 from 'p5';\n\n// シェーダファイルへのパス\nimport VERT_FILE from \"./assets/main.vert\";\nimport FRAG_FILE_00 from \"./assets/main_00.frag\";\nimport FRAG_FILE_01 from \"./assets/main_01.frag\";\n\n// 利用するシェーダのインデックス\nimport { shaderIndex } from \"../src/App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass SampleSketch extends Component {\n  constructor(props) {\n    super(props);\n    this.sketchHandler = p => {\n      let theShader = []; // シェーダオブジェクト\n      let capture; // カメラのキャプチャ\n      const scl = 0.8;\n      p.preload = () => {\n        let filePathList = {};\n        theShader = p.loadShader(VERT_FILE, FRAG_FILE);\n        // theShader = p.loadShader(\"../public/assets/main.vert\", FRAG_FILE);\n        // theShader = p.loadShader(\"./assets/main.vert\", \"./assets/main_01.frag\");\n        // theShader = p.loadShader(\"../assets/main.vert\", \"../assets/main_01.frag\");\n\n        console.log(VERT_FILE);\n        // console.log(A)\n      };\n      p.windowResized = () => {\n        p.resizeCanvas(p.windowWidth * scl, p.windowHeight * scl, p.WEBGL);\n      };\n      p.setup = () => {\n        // メインキャンバスの作成\n        p.createCanvas(p.windowWidth * scl, p.windowHeight * scl, p.WEBGL);\n\n        // 仮想キャンバスの作成\n        // pg = p5.createGraphics(p5.width, p5.height);\n\n        // Webカメラのキャプチャ開始\n        capture = p.createCapture(p.VIDEO);\n        capture.hide();\n      };\n      p.draw = () => {\n        // shaderIndex = 0;\n        // console.log();\n\n        p.shader(theShader);\n        theShader.setUniform(\"u_time\", p.frameCount / 100);\n        theShader.setUniform(\"u_Resolution\", [p.width, p.height]);\n        theShader.setUniform(\"u_tex\", capture);\n\n        // theShader.setUniform('u_color0', normalizeColors[0]);\n        // theShader.setUniform('u_color1', normalizeColors[1]);\n        // theShader.setUniform('u_color2', normalizeColors[2]);\n        // theShader.setUniform('u_color3', normalizeColors[3]);\n        // theShader.setUniform('u_color4', normalizeColors[4]);\n\n        p.rect(0, 0, p.width, p.height);\n      };\n    };\n    this.sketchRef = /*#__PURE__*/React.createRef();\n  }\n  componentDidMount() {\n    this.sketch = new p5(this.sketchHandler, this.sketchRef.current);\n  }\n  componentWillUnmount() {\n    this.sketch.remove();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: this.sketchRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 12\n    }, this);\n  }\n}\nexport default SampleSketch;","map":{"version":3,"names":["React","Component","p5","VERT_FILE","FRAG_FILE_00","FRAG_FILE_01","shaderIndex","jsxDEV","_jsxDEV","SampleSketch","constructor","props","sketchHandler","p","theShader","capture","scl","preload","filePathList","loadShader","FRAG_FILE","console","log","windowResized","resizeCanvas","windowWidth","windowHeight","WEBGL","setup","createCanvas","createCapture","VIDEO","hide","draw","shader","setUniform","frameCount","width","height","rect","sketchRef","createRef","componentDidMount","sketch","current","componentWillUnmount","remove","render","ref","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/takum/Documents/GitHub/capture-sketch-test/src/CameraCapture.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport p5 from 'p5';\r\n\r\n// シェーダファイルへのパス\r\nimport VERT_FILE from \"./assets/main.vert\"\r\nimport FRAG_FILE_00 from \"./assets/main_00.frag\"\r\nimport FRAG_FILE_01 from \"./assets/main_01.frag\"\r\n\r\n// 利用するシェーダのインデックス\r\nimport { shaderIndex } from \"../src/App\"\r\n\r\nclass SampleSketch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.sketchRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.sketch = new p5(this.sketchHandler, this.sketchRef.current);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sketch.remove();\r\n  }\r\n\r\n  sketchHandler = p => {\r\n    let theShader = []; // シェーダオブジェクト\r\n    let capture;        // カメラのキャプチャ\r\n    const scl = 0.8;\r\n\r\n    p.preload = () => {\r\n      let filePathList = {\r\n\r\n      }\r\n      theShader = p.loadShader(VERT_FILE, FRAG_FILE);\r\n      // theShader = p.loadShader(\"../public/assets/main.vert\", FRAG_FILE);\r\n      // theShader = p.loadShader(\"./assets/main.vert\", \"./assets/main_01.frag\");\r\n      // theShader = p.loadShader(\"../assets/main.vert\", \"../assets/main_01.frag\");\r\n\r\n      console.log(VERT_FILE)\r\n      // console.log(A)\r\n    };\r\n\r\n    p.windowResized = () => {\r\n      p.resizeCanvas(p.windowWidth * scl, p.windowHeight * scl, p.WEBGL);\r\n    }\r\n\r\n    p.setup = () => {\r\n      // メインキャンバスの作成\r\n      p.createCanvas(p.windowWidth * scl, p.windowHeight * scl, p.WEBGL);\r\n\r\n      // 仮想キャンバスの作成\r\n      // pg = p5.createGraphics(p5.width, p5.height);\r\n\r\n      // Webカメラのキャプチャ開始\r\n      capture = p.createCapture(p.VIDEO);\r\n      capture.hide();\r\n    };\r\n\r\n    p.draw = () => {\r\n      // shaderIndex = 0;\r\n      // console.log();\r\n\r\n      p.shader(theShader);\r\n\r\n      theShader.setUniform(\"u_time\", p.frameCount / 100);\r\n      theShader.setUniform(\"u_Resolution\", [p.width, p.height]);\r\n\r\n      theShader.setUniform(\"u_tex\", capture);\r\n\r\n      // theShader.setUniform('u_color0', normalizeColors[0]);\r\n      // theShader.setUniform('u_color1', normalizeColors[1]);\r\n      // theShader.setUniform('u_color2', normalizeColors[2]);\r\n      // theShader.setUniform('u_color3', normalizeColors[3]);\r\n      // theShader.setUniform('u_color4', normalizeColors[4]);\r\n\r\n      p.rect(0, 0, p.width, p.height);\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return <div ref={this.sketchRef}></div>;\r\n  }\r\n}\r\n\r\nexport default SampleSketch;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,EAAE,MAAM,IAAI;;AAEnB;AACA,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,YAAY,MAAM,uBAAuB;;AAEhD;AACA,SAASC,WAAW,QAAQ,YAAY;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,YAAY,SAASR,SAAS,CAAC;EACnCS,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAC,KAYfC,aAAa,GAAGC,CAAC,IAAI;MACnB,IAAIC,SAAS,GAAG,EAAE,CAAC,CAAC;MACpB,IAAIC,OAAO,CAAC,CAAQ;MACpB,MAAMC,GAAG,GAAG,GAAG;MAEfH,CAAC,CAACI,OAAO,GAAG,MAAM;QAChB,IAAIC,YAAY,GAAG,CAEnB,CAAC;QACDJ,SAAS,GAAGD,CAAC,CAACM,UAAU,CAAChB,SAAS,EAAEiB,SAAS,CAAC;QAC9C;QACA;QACA;;QAEAC,OAAO,CAACC,GAAG,CAACnB,SAAS,CAAC;QACtB;MACF,CAAC;MAEDU,CAAC,CAACU,aAAa,GAAG,MAAM;QACtBV,CAAC,CAACW,YAAY,CAACX,CAAC,CAACY,WAAW,GAAGT,GAAG,EAAEH,CAAC,CAACa,YAAY,GAAGV,GAAG,EAAEH,CAAC,CAACc,KAAK,CAAC;MACpE,CAAC;MAEDd,CAAC,CAACe,KAAK,GAAG,MAAM;QACd;QACAf,CAAC,CAACgB,YAAY,CAAChB,CAAC,CAACY,WAAW,GAAGT,GAAG,EAAEH,CAAC,CAACa,YAAY,GAAGV,GAAG,EAAEH,CAAC,CAACc,KAAK,CAAC;;QAElE;QACA;;QAEA;QACAZ,OAAO,GAAGF,CAAC,CAACiB,aAAa,CAACjB,CAAC,CAACkB,KAAK,CAAC;QAClChB,OAAO,CAACiB,IAAI,CAAC,CAAC;MAChB,CAAC;MAEDnB,CAAC,CAACoB,IAAI,GAAG,MAAM;QACb;QACA;;QAEApB,CAAC,CAACqB,MAAM,CAACpB,SAAS,CAAC;QAEnBA,SAAS,CAACqB,UAAU,CAAC,QAAQ,EAAEtB,CAAC,CAACuB,UAAU,GAAG,GAAG,CAAC;QAClDtB,SAAS,CAACqB,UAAU,CAAC,cAAc,EAAE,CAACtB,CAAC,CAACwB,KAAK,EAAExB,CAAC,CAACyB,MAAM,CAAC,CAAC;QAEzDxB,SAAS,CAACqB,UAAU,CAAC,OAAO,EAAEpB,OAAO,CAAC;;QAEtC;QACA;QACA;QACA;QACA;;QAEAF,CAAC,CAAC0B,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE1B,CAAC,CAACwB,KAAK,EAAExB,CAAC,CAACyB,MAAM,CAAC;MACjC,CAAC;IACH,CAAC;IAhEC,IAAI,CAACE,SAAS,gBAAGxC,KAAK,CAACyC,SAAS,CAAC,CAAC;EACpC;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACC,MAAM,GAAG,IAAIzC,EAAE,CAAC,IAAI,CAACU,aAAa,EAAE,IAAI,CAAC4B,SAAS,CAACI,OAAO,CAAC;EAClE;EAEAC,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAACF,MAAM,CAACG,MAAM,CAAC,CAAC;EACtB;EAyDAC,MAAMA,CAAA,EAAG;IACP,oBAAOvC,OAAA;MAAKwC,GAAG,EAAE,IAAI,CAACR;IAAU;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EACzC;AACF;AAEA,eAAe3C,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}